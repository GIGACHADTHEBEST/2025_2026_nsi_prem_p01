def decomposer_billets(montant):
    if montant % 5 != 0:
        return "Le montant doit être un multiple de 5."

    billets = {}
    reste = montant

    billets[50], reste = divmod(reste, 50)
    billets[20], reste = divmod(reste, 20)
    billets[10], reste = divmod(reste, 10)
    billets[5], reste = divmod(reste, 5)

    return billets


def choisir_billets(montant):
    print(f"\nMontant à retirer : {montant} €")
    print("Composez vos billets (entrez 0 si vous ne voulez pas ce type de billet)")

    total = 0
    choix = {}

    for valeur in [50, 20, 10, 5]:
        max_billets = montant // valeur 
        quantite = int(input(f"Combien de billets de {valeur} € ? (max {max_billets}) : "))
        if quantite < 0 or quantite > max_billets:
            print("Quantité invalide, remise à 0.")
            quantite = 0
        choix[valeur] = quantite
        total += valeur * quantite

    if total != montant:
        print(f"\n La somme choisie ({total} €) ne correspond pas au montant demandé ({montant} €).")
        print("On vous proposera la décomposition automatique.")
        return decomposer_billets(montant)
    else:
        print("\n Choix validé !")
        return choix



montant = int(input("Entrez le montant à décomposer (multiples de 5 €) : "))


choix_utilisateur = input("Souhaitez-vous choisir vos billets ? (oui/non) : ").lower()

if choix_utilisateur == "oui":
    billets = choisir_billets(montant)
else:
    billets = decomposer_billets(montant)

afficher_billets(billets)


